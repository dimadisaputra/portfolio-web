---
import type { ImageMetadata } from "astro";

interface Props {
  title: string;
  description: string;
  image: ImageMetadata | string;
  slug?: string;
}

const { title, description, image, slug } = Astro.props;

const imageUrl = typeof image === "string" ? image : image.src;
const imageMetadata = typeof image === "object" ? image : undefined;
---

<a
  href={slug ? `/projects/${slug}` : "#"}
  class="group block bg-ghost-white rounded-2xl shadow-lg overflow-hidden transform transition-transform duration-300 hover:scale-105 hover:shadow-2xl text-left"
>
  <div class="relative aspect-square">
    <img
      src={imageUrl}
      alt={`Thumbnail for ${title}`}
      class="w-full h-full object-cover"
      width={imageMetadata?.width}
      height={imageMetadata?.height}
      loading="lazy"
    />
  </div>
  <div class="p-6">
    <h3 class="text-xl font-bold text-black-alt mb-2">{title}</h3>
    <p class="fong-light text-sm text-gray-600 leading-relaxed line-clamp-3">
      {description}
    </p>
  </div>
</a>
