---
interface Props {
  currentPath: string;
}

const { currentPath } = Astro.props;
---

<nav
  id="navbar-container"
  class="fixed top-0 left-1/2 -translate-x-1/2 z-50 w-[95%] md:w-2/4 mx-auto mt-2 p-2 md:mt-4"
>
  <input type="checkbox" class="hidden peer" id="menu-toggle" />

  <div
    id="navbar-wrapper"
    class="relative z-10 grid grid-rows-[auto_0fr] peer-checked:grid-rows-[auto_1fr] transition-[grid-template-rows] duration-300 ease-in-out rounded-2xl bg-white/30 backdrop-blur-xl overflow-hidden shadow-lg"
  >
    <div
      id="navbar-visual"
      class="flex items-center justify-between p-4 mt-0 sm:px-6 py-2"
    >
      <ul class="hidden sm:flex space-x-4 md:space-x-4 text-sm">
        <li>
          <a
            href="/"
            class:list={[
              "relative inline-block text-black hover:text-poppy transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-full after:h-[2px] after:bg-poppy after:origin-center after:transform after:scale-x-0 after:transition-transform after:duration-300 after:ease-in-out hover:after:scale-x-100",
              { "text-poppy !after:scale-x-100": currentPath === "/" },
            ]}
          >
            Home
          </a>
        </li>
        <li>
          <a
            href="/about"
            class:list={[
              "relative inline-block text-black hover:text-poppy transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-full after:h-[2px] after:bg-poppy after:origin-center after:transform after:scale-x-0 after:transition-transform after:duration-300 after:ease-in-out hover:after:scale-x-100",
              { "text-poppy !after:scale-x-100": currentPath === "/about" },
            ]}
          >
            About
          </a>
        </li>
        <li>
          <a
            href="/projects"
            class:list={[
              "relative inline-block text-black hover:text-poppy transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-full after:h-[2px] after:bg-poppy after:origin-center after:transform after:scale-x-0 after:transition-transform after:duration-300 after:ease-in-out hover:after:scale-x-100",
              {
                "text-poppy !after:scale-x-100":
                  currentPath.startsWith("/projects"),
              },
            ]}
          >
            Projects
          </a>
        </li>
        <li>
          <a
            href="/contact"
            class:list={[
              "relative inline-block text-black hover:text-poppy transition-colors duration-300 after:content-[''] after:absolute after:left-0 after:bottom-0 after:w-full after:h-[2px] after:bg-poppy after:origin-center after:transform after:scale-x-0 after:transition-transform after:duration-300 after:ease-in-out hover:after:scale-x-100",
              { "text-poppy !after:scale-x-100": currentPath === "/contact" },
            ]}
          >
            Contact
          </a>
        </li>
      </ul>

      <label
        for="menu-toggle"
        class="sm:hidden flex items-center px-3 py-2 rounded text-black focus:outline-none cursor-pointer"
        aria-label="Toggle menu"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </label>

      <a
        href="/cv_dimas_adi_saputra_jan_2026.pdf"
        download
        class="rounded-2xl px-3 md:px-4 py-2 transition-colors duration-300 hover:bg-poppy hover:text-white ml-2 bg-poppy/10 text-poppy"
      >
        Download
      </a>
    </div>

    <div id="mobile-menu" class="min-h-0 overflow-hidden">
      <ul
        class="flex flex-col items-center space-y-2 py-4 border-t border-white/20"
      >
        <li>
          <a
            href="/"
            class:list={[
              "block w-full text-center p-2",
              { "text-poppy font-semibold": currentPath === "/" },
            ]}>Home</a
          >
        </li>
        <li>
          <a
            href="/about"
            class:list={[
              "block w-full text-center p-2",
              { "text-poppy font-semibold": currentPath === "/about" },
            ]}>About</a
          >
        </li>
        <li>
          <a
            href="/projects"
            class:list={[
              "block w-full text-center p-2",
              {
                "text-poppy font-semibold": currentPath.startsWith("/projects"),
              },
            ]}>Projects</a
          >
        </li>
        <li>
          <a
            href="/contact"
            class:list={[
              "block w-full text-center p-2",
              { "text-poppy font-semibold": currentPath === "/contact" },
            ]}>Contact</a
          >
        </li>
      </ul>
    </div>
  </div>
</nav>
