---
// src/pages/contact.astro
import Layout from "../layouts/Layout.astro";

// Variabel untuk SEO
const title = "Contact - Dimas Adi Saputra";
const description =
  "Get in touch with Dimas Adi Saputra. Contact information, social links, and ways to collaborate on data projects.";

// Contact methods data
const contactMethods = [
  {
    icon: "email",
    title: "Email",
    description: "For business inquiries and collaboration",
    value: "dimadisaputra@gmail.com",
    href: "mailto:dimadisaputra@gmail.com",
    color: "poppy",
    bgColor: "bg-poppy/10",
    textColor: "text-poppy",
    hoverColor: "hover:bg-poppy",
  },
  {
    icon: "telegram",
    title: "Telegram",
    description: "Quick chat and casual conversation",
    value: "@dimadisaputra",
    href: "https://t.me/dimadisaputra",
    color: "blue-crayola",
    bgColor: "bg-blue-crayola/10",
    textColor: "text-blue-crayola",
    hoverColor: "hover:bg-blue-crayola",
    external: true,
  },
  {
    icon: "linkedin",
    title: "LinkedIn",
    description: "Professional networking",
    value: "dimadisaputra",
    href: "https://linkedin.com/in/dimadisaputra",
    color: "blue-crayola",
    bgColor: "bg-blue-crayola/10",
    textColor: "text-blue-crayola",
    hoverColor: "hover:bg-blue-crayola",
    external: true,
  },
];
---

<Layout title={title} description={description}>
  <main class="mt-24 sm:mt-32">
    <!-- Hero Section -->
    <div
      id="hero"
      class="flex flex-col items-center justify-center gap-8 w-full max-w-4xl mx-auto text-center px-6 animate-fade-in-up"
    >
      <!-- Badge -->
      <div
        class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-poppy/10 to-blue-crayola/10 border border-poppy/20 backdrop-blur-sm"
      >
        <span class="relative flex h-2 w-2">
          <span
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-poppy opacity-75"
          ></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-poppy"
          ></span>
        </span>
        <span class="text-sm font-medium text-gray-700"
          >Available for opportunities</span
        >
      </div>

      <h1
        class="text-5xl sm:text-6xl lg:text-7xl text-black-alt font-extrabold leading-tight"
      >
        Let's <span
          class="text-transparent bg-clip-text bg-gradient-to-r from-poppy to-red-600"
          >Connect</span
        > and <span
          class="text-transparent bg-clip-text bg-gradient-to-r from-blue-crayola to-blue-600"
          >Collaborate</span
        >
        <span class="inline-block animate-wave">ü§ù</span>
      </h1>

      <h2
        class="font-light text-lg sm:text-xl text-gray-600 w-full sm:w-3/4 leading-relaxed animate-fade-in-up animation-delay-200"
      >
        I'm always excited to discuss data projects, explore new opportunities,
        and connect with fellow data enthusiasts. Feel free to reach out!
      </h2>
    </div>

    <!-- Contact Form Section -->
    <section id="contact-form" class="mt-16 w-full max-w-2xl mx-auto px-6">
      <div class="relative group">
        <div
          class="bg-white/80 rounded-3xl shadow-xl p-8 sm:p-12 border border-gray-200 relative overflow-hidden hover:shadow-2xl transition-all duration-500"
        >
          <div
            class="absolute inset-0 bg-gradient-to-br from-blue-crayola/5 to-poppy/5 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"
          >
          </div>

          <h2
            class="text-3xl sm:text-4xl font-bold text-black-alt mb-8 text-center relative"
          >
            Send me a message
          </h2>

          <form
            id="contactForm"
            class="space-y-6 relative"
            action="https://formspree.io/f/mjkaeklv"
            method="POST"
          >
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
              <div>
                <label
                  for="name"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  Name *
                </label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  required
                  class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-crayola/50 focus:border-blue-crayola transition-all duration-300 hover:border-gray-300"
                  placeholder="Your name"
                />
              </div>
              <div>
                <label
                  for="email"
                  class="block text-sm font-semibold text-gray-700 mb-2"
                >
                  Email *
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-crayola/50 focus:border-blue-crayola transition-all duration-300 hover:border-gray-300"
                  placeholder="your.email@example.com"
                />
              </div>
            </div>

            <div>
              <label
                for="subject"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Subject *
              </label>
              <input
                type="text"
                id="subject"
                name="subject"
                required
                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-crayola/50 focus:border-blue-crayola transition-all duration-300 hover:border-gray-300"
                placeholder="What's this about?"
              />
            </div>

            <div>
              <label
                for="message"
                class="block text-sm font-semibold text-gray-700 mb-2"
              >
                Message *
              </label>
              <textarea
                id="message"
                name="message"
                rows="6"
                required
                class="w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-crayola/50 focus:border-blue-crayola transition-all duration-300 resize-vertical hover:border-gray-300"
                placeholder="Tell me about your project, collaboration idea, or just say hello!"
              ></textarea>
            </div>

            <button
              type="submit"
              class="group relative w-full text-center font-semibold rounded-2xl bg-gradient-to-r from-blue-crayola to-blue-600 text-white px-8 py-4 hover:shadow-xl hover:shadow-blue-crayola/30 hover:-translate-y-1 transition-all duration-300 overflow-hidden cursor-pointer"
            >
              <span
                class="relative z-10 inline-flex items-center gap-2 justify-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
                  ></path>
                  <path
                    d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
                  ></path>
                </svg>
                Send Message
              </span>
              <div
                class="absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-crayola opacity-0 group-hover:opacity-100 transition-opacity duration-300"
              >
              </div>
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- Contact Information Section -->
    <section
      id="contact-info"
      class="mt-32 sm:mt-48 w-full max-w-5xl mx-auto px-6"
    >
      <div class="relative mb-16">
        <div
          class="absolute -top-12 left-1/2 -translate-x-1/2 text-8xl opacity-25 pointer-events-none"
        >
          üìû
        </div>
        <h2
          class="text-4xl sm:text-5xl font-bold text-black-alt text-center relative"
        >
          Other ways to reach me
        </h2>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {
          contactMethods.map((method, index) => (
            <a
              href={method.href}
              target={method.external ? "_blank" : undefined}
              rel={method.external ? "noopener noreferrer" : undefined}
              class={`group bg-white/80 rounded-3xl shadow-xl p-8 border border-gray-200 text-center hover:shadow-2xl hover:border-${method.color}/30 transition-all duration-500 hover:-translate-y-2 relative overflow-hidden block`}
              style={`animation: fadeInUp 0.6s ease-out ${index * 0.15}s both;`}
            >
              <div
                class={`absolute inset-0 bg-gradient-to-br from-${method.color}/5 to-${method.color}/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none`}
              />

              <div
                class={`w-16 h-16 ${method.bgColor} rounded-2xl flex items-center justify-center mx-auto mb-6 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 relative`}
              >
                {method.icon === "email" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class={`h-8 w-8 ${method.textColor}`}
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                    <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
                  </svg>
                )}
                {method.icon === "telegram" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class={`h-8 w-8 ${method.textColor}`}
                    viewBox="0 0 16 16"
                    fill="currentColor"
                  >
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M8.287 5.906q-1.168.486-4.666 2.01-.567.225-.595.442c-.03.243.275.339.69.47l.175.055c.408.133.958.288 1.243.294q.39.01.868-.32 3.269-2.206 3.374-2.23c.05-.012.12-.026.166.016s.042.12.037.141c-.03.129-1.227 1.241-1.846 1.817-.193.18-.33.307-.358.336a8 8 0 0 1-.188.186c-.38.366-.664.64.015 1.088.327.216.589.393.85.571.284.194.568.387.936.629q.14.092.27.187c.331.236.63.448.997.414.214-.02.435-.22.547-.82.265-1.417.786-4.486.906-5.751a1.4 1.4 0 0 0-.013-.315.34.34 0 0 0-.114-.217.53.53 0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09" />
                  </svg>
                )}
                {method.icon === "linkedin" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class={`h-8 w-8 ${method.textColor}`}
                    viewBox="0 0 16 16"
                    fill="currentColor"
                  >
                    <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
                  </svg>
                )}
              </div>

              <h3
                class={`text-xl font-bold text-black-alt mb-3 group-hover:${method.textColor} transition-colors duration-300 relative`}
              >
                {method.title}
              </h3>
              <p class="text-gray-600 mb-4 text-sm relative">
                {method.description}
              </p>
              <p
                class={`${method.textColor} font-semibold relative inline-flex items-center gap-1 group-hover:gap-2 transition-all duration-300`}
              >
                <span>{method.value}</span>
                {method.external && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-4 w-4"
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path d="M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z" />
                    <path d="M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z" />
                  </svg>
                )}
              </p>
            </a>
          ))
        }
      </div>
    </section>
  </main>
</Layout>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById(
      "contactForm"
    ) as HTMLFormElement | null;

    if (!form) return;

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const data = new FormData(form);
      const submitButton = form.querySelector(
        "button[type='submit']"
      ) as HTMLButtonElement | null;

      if (!submitButton) return;

      submitButton.disabled = true;
      submitButton.textContent = "Sending...";

      try {
        const res = await fetch(form.action, {
          method: "POST",
          body: data,
          headers: { Accept: "application/json" },
        });

        if (res.ok) {
          form.reset();
          form.innerHTML = `
            <div class="text-center py-12 animate-fade-in-up">
              <div class="inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 mb-6">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <h2 class="text-3xl font-bold text-black-alt mb-4">Message Sent!</h2>
              <p class="text-gray-600 mb-8">Thanks for reaching out, I‚Äôll get back to you soon.</p>
            </div>
          `;
        } else {
          alert("Oops! Something went wrong. Please try again later.");
          submitButton.disabled = false;
          submitButton.textContent = "Send Message";
        }
      } catch (err) {
        alert("Network error. Please try again later.");
        submitButton.disabled = false;
        submitButton.textContent = "Send Message";
      }
    });
  });
</script>
